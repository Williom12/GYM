<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Rutina Gym</title>

<style>
body{
    background:black;
    color:white;
    font-family:Arial;
    margin:0;
}

.menu{
    display:flex;
    justify-content:center;
    gap:10px;
    padding:15px;
    background:#111;
}

button{
    background:#222;
    color:white;
    border:none;
    padding:10px 15px;
    cursor:pointer;
    border-radius:6px;
}

button:hover{ background:#444; }

.container{
    max-width:800px;
    margin:auto;
    padding:20px;
}

input{
    background:#111;
    border:1px solid #555;
    color:white;
    padding:5px;
    width:70px;
    margin:5px;
}

.hidden{ display:none; }

.card{
    background:#111;
    padding:15px;
    margin:10px 0;
    border-radius:8px;
}
</style>
</head>

<body>

<!-- PERFIL -->
<div id="perfilSelect" class="container">
<h2>Selecciona perfil</h2>
<button onclick="seleccionarPerfil('William')">William</button>
<button onclick="seleccionarPerfil('JuanManuel')">Juan Manuel</button>
</div>

<!-- MENU -->
<div id="menu" class="menu hidden">
<button onclick="mostrarDia(1)">Dia 1</button>
<button onclick="mostrarDia(2)">Dia 2</button>
<button onclick="mostrarDia(3)">Dia 3</button>
<button onclick="mostrarDia(4)">Dia 4</button>
<button onclick="mostrarDia(5)">Dia 5</button>
<button onclick="mostrarDias()">Dias</button>
</div>

<div class="container" id="contenido"></div>

<script>

let perfil="";

/* ---------- PERFIL ---------- */

function seleccionarPerfil(p){
    perfil=p;
    document.getElementById("perfilSelect").classList.add("hidden");
    document.getElementById("menu").classList.remove("hidden");
}

/* ---------- EJERCICIOS ---------- */

const rutina={
1:["Press inclinado mancuernas","Fondos en paralelas","Aperturas mancuernas","Press cerrado","Extensión tríceps polea"],
2:["Dominadas","Remo con barra","Jalón al pecho","Peso muerto rumano","Curl barra","Curl inclinado"],
3:["Sentadilla libre","Prensa","Curl femoral","Extensión cuádriceps","Gemelos de pie"],
4:["Press militar","Elevaciones laterales","Elevaciones posteriores","Encogimientos barra","Crunch con peso"],
5:["Press banca","Dominadas","Remo mancuerna","Curl + Extensión superserie"]
};

/* ---------- UI ---------- */

function ocultarTodo(){
    document.getElementById("contenido").innerHTML="";
}

function mostrarDia(n){
    ocultarTodo();

    let html=`<h2>Dia ${n} <input type="date" id="fecha"></h2>`;

    rutina[n].forEach((e,i)=>{
        html+=`
        <p>${e}
        <input id="kg${i}" placeholder="KG">
        Reps <input id="rep${i}">
        </p>`;
    });

    html+=`<button onclick="guardarDia(${n})">Guardar</button>`;

    document.getElementById("contenido").innerHTML=html;

    cargarDia(n);
}

/* ---------- GUARDAR ---------- */

function keyDia(n){
    return perfil+"_dia"+n;
}

function guardarDia(n){

    let datos={
        fecha:document.getElementById("fecha").value,
        ejercicios:[]
    };

    rutina[n].forEach((_,i)=>{
        datos.ejercicios.push({
            kg:document.getElementById("kg"+i).value,
            rep:document.getElementById("rep"+i).value
        });
    });

    localStorage.setItem(keyDia(n),JSON.stringify(datos));
    alert("Guardado ✅");
}

function cargarDia(n){

    let datos=localStorage.getItem(keyDia(n));
    if(!datos) return;

    datos=JSON.parse(datos);

    document.getElementById("fecha").value=datos.fecha;

    datos.ejercicios.forEach((e,i)=>{
        document.getElementById("kg"+i).value=e.kg;
        document.getElementById("rep"+i).value=e.rep;
    });
}

/* ---------- HISTORIAL ---------- */

function mostrarDias(){
    ocultarTodo();

    let html="<h2>Historial</h2>";

    for(let i=1;i<=5;i++){

        let datos=localStorage.getItem(keyDia(i));

        if(datos){
            datos=JSON.parse(datos);

            html+=`
            <div class="card">
            <b>Dia ${i}</b><br>
            Fecha: ${datos.fecha}<br><br>
            <button onclick="mostrarDia(${i})">Abrir</button>
            <button onclick="eliminarDia(${i})">Eliminar</button>
            </div>`;
        }
    }

    document.getElementById("contenido").innerHTML=html;
}

/* ---------- ELIMINAR ---------- */

function eliminarDia(n){

    if(confirm("¿Eliminar este día?")){
        localStorage.removeItem(keyDia(n));
        mostrarDias();
    }
}

</script>

</body>
</html>
